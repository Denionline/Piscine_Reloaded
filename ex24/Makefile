# **************************************************************************** #
#                                                                              #
#                                                         :::      ::::::::    #
#    Makefile                                           :+:      :+:    :+:    #
#                                                     +:+ +:+         +:+      #
#    By: dximenes <dximenes@student.42porto.com>    +#+  +:+       +#+         #
#                                                 +#+#+#+#+#+   +#+            #
#    Created: 2025/04/04 18:33:46 by dximenes          #+#    #+#              #
#    Updated: 2025/04/05 09:54:53 by dximenes         ###   ########.fr        #
#                                                                              #
# **************************************************************************** #

# **************************************************************************** #
#                                    Config                                    #
# **************************************************************************** #

MAKE		= make
SHELL		= bash

# **************************************************************************** #
#                                    Names                                     #
# **************************************************************************** #

NAME		= libft.a

# **************************************************************************** #
#                                     Paths                                    #
# **************************************************************************** #

SRC_PATH	= srcs
INC_PATH	= includes
BUILD_PATH	= .build

FILES		= main.c
FILES		+= ft_putchar.c
FILES		+= ft_putstr.c
FILES		+= ft_strcmp.c
FILES		+= ft_strlen.c
FILES		+= ft_swap.c

SRC			= $(addprefix $(SRC_PATH)/, $(FILES))
OBJS		= $(SRC: $(SRC_PATH)/%.c=$(BUILD_PATH)/%.o)


# **************************************************************************** #
#                                     Compiler                                 #
# **************************************************************************** #

CC			= cc
CFLAGS		= -Wall -Wextra -Werror
INC			= -I $(INC_PATH)

# **************************************************************************** #
#                                     Comands                                  #
# **************************************************************************** #

RM			= rm -rf
AR			= ar rcs
MKDIR		= mkdir

# **************************************************************************** #
#                                      Rules                                   #
# **************************************************************************** #

all: $(BUILD_PATH) $(NAME)

$(NAME): $(OBJS)
	$(AR) $(NAME) $(OBJS)

$(BUILD_PATH):
	$(MKDIR) $(BUILD_PATH)

$(BUILD_PATH)/%.o: $(SRC_PATH)/%.c
	$(CC) $(CFLAGS) $(INC) -c $< -o $@

clean:
	$(RM) $(BUILD_PATH)

fclean:
	$(RM) ${NAME}

re: clean all

.PHONY: all clean fclean re